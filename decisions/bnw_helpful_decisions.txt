country_decisions = {
	
	urban_development_capital = {
		potential = {
			current_date < 600.1.1 # only first 150 years
			capital_scope = {
				has_city_status = no
			}
		}

		allow = {
			treasury >= 150
			political_influence >= 50
			capital_scope = {
				total_population >= 25
				civilization_value >= 10
			}
		}

		ai_allow = {
			treasury >= 50
			political_influence >= 10
			capital_scope = {
				total_population >= 15
				civilization_value >= 8
			}
		}

		effect = {
			if = {
				limit = {
					is_ai = yes
				}
				add_treasury = -50
				add_political_influence = -10
			}
			else = {
				add_treasury = -150
				add_political_influence = -50
			}
			add_centralization = 25
			change_government = tribal_kingdom
			capital_scope = {
				found_city_effect = yes
				capital_formable_tribal_effect = yes
                formable_capital_modifier_tribal_effect = yes
			}
		}
	}

	incentivise_pop_growth_city = {
		potential = {
			country_population < 1000 # can't get it once you have at least 1k pops
			NOT = {
				has_variable = city_pop_growth_cooldown_var
			}
			any_owned_province = {
				has_city_status = yes
			}
		}

		allow = {
			treasury >= 150
			political_influence >= 50
		}

		effect = {
			add_treasury = -150
			add_political_influence = -50
			add_centralization = 1
			set_variable = {
				name = city_pop_growth_cooldown_var
				days = 9125 # 25 years
			}
			ordered_owned_province = {
				limit = {
					has_city_status = yes
				}
				order_by = {
					value = 0
					add = population_cap
					subtract = total_population
				}
				max = 5
				add_province_modifier = {
					name = incentivised_pop_growth
					duration = 3650 # 10 years
				}
			}
		}
	}

	incentivise_pop_growth_rural = {
		potential = {
			country_population < 1000 # can't get it once you have at least 1k pops
			NOT = {
				has_variable = rural_pop_growth_cooldown_var
			}
			any_owned_province = {
				has_city_status = no
			}
		}

		allow = {
			treasury >= 150
			political_influence >= 50
		}

		effect = {
			add_treasury = -150
			add_political_influence = -50
			add_centralization = 1
			set_variable = {
				name = rural_pop_growth_cooldown_var
				days = 9125 # 25 years
			}
			ordered_owned_province = {
				limit = {
					has_city_status = no
				}
				order_by = {
					value = 0
					add = population_cap
					subtract = total_population
				}
				max = 5
				add_province_modifier = {
					name = incentivised_pop_growth
					duration = 3650 # 10 years
				}
			}
		}
	}

	change_of_scenery = { # migration buff
		potential = {
			government = tribal_chiefdom
			NOT = {
				any_owned_province = {
					has_city_status = yes
				}
			}
			NOT = {
				has_variable = migration_ongoing
			}
		}

		allow = {
			centralization < 0
			political_influence >= 50
		}

		effect = {
			set_variable = {
				name = migration_ongoing
				days = 9125 # 25 years
			}
			add_political_influence = -50
			add_centralization = -25
			add_country_modifier = {
				name = change_of_scenery_mod
				duration = 730 # 2 years
			}
		}
	}

	civ_help_me = { # helps civilizing
		potential = {
			is_tribal = yes
			OR = {
				centralization >= 25
				NOT = {
					government = tribal_chiefdom
				}
			}
			NOT = {
				has_variable = civing_ongoing
			}
		}

		allow = {
			centralization > -50
			political_influence >= 15
		}

		effect = {
			set_variable = {
				name = civing_ongoing
				days = 9125 # 25 years
			}
			add_political_influence = -15
			add_centralization = 25
			capital_scope = {
				capital_formable_small_effect = yes
			}
		}
	}

	ai_assimilation_help = { # to help it catch up with player assimilation levels
		potential = {
			#always = yes # for testing
			NOT = { # cooldown
				has_variable = aissimilation_help
			}
			OR = {
				current_date >= 475.1.1 # so ai doesn't take it too early
				country_population >= 100
			}
			is_ai = yes
			country_primary_population_svalue < 7500 # if you have over 7500 primary culture pops you don't get this anymore
		}

		allow = {
			custom_tooltip = {
				text = ai_assim_help_80_percent_tt
				country_population_percentage_primary < 0.8
			}
		}

		effect = {
			if = {
				limit = { # more than 50% non primary culture pops
					country_population_primary_other_difference < 0
				}
				while = { # extra 5 pops if less than 50% are primary culture
					count = 5
					random_owned_province = {
						limit = {
							any_pops_in_province = {
								NOT = {
									pop_culture = root.culture
								}
							}
						}
						random_pops_in_province = {
							limit = {
								NOT = {
									pop_culture = root.culture
								}
							}
							set_pop_culture = root.culture
						}
					}
				}
				while = {
					count = ai_help_assimilation_value
					random_owned_province = {
						limit = {
							any_pops_in_province = {
								NOT = {
									pop_culture = root.culture
								}
							}
						}
						random_pops_in_province = {
							limit = {
								NOT = {
									pop_culture = root.culture
								}
							}
							set_pop_culture = root.culture
						}
					}
				}
			}
			else = {
				while = {
					count = ai_help_assimilation_value
					random_owned_province = {
						limit = {
							any_pops_in_province = {
								NOT = {
									pop_culture = root.culture
								}
							}
						}
						random_pops_in_province = {
							limit = {
								NOT = {
									pop_culture = root.culture
								}
							}
							set_pop_culture = root.culture
						}
					}
				}
			}
			set_variable = {
				name = aissimilation_help
				days = 9125 # 25 years
			}
		}
	}
} 