namespace = bnw_startup_events

bnw_startup_events.1 = {
	type = country_event
	title = bnw_startup_events.1.t
	desc = bnw_startup_events.1.desc
	picture = greeks_marching

	fire_only_once = yes

	option = {
		name = bnw_startup_events.1.a
		custom_tooltip = bnw_startup_events_tt_1
		add_country_modifier = {
			name = divine_favour
			duration = -1
		}
		hidden_effect = {
			random_list = { # "Champions of the Gods" xD
				10 = { # Great Warrior and Commander
					create_character = {
						add_martial = 8
						add_trait = intelligent
						add_trait = victorious
						add_character_experience = 75
					}
				}
				10 = { # Great Administrator
					create_character = {
						add_finesse = 8
						add_trait = intelligent
						add_trait = just
						add_character_experience = 75
					}
				}
				10 = { # Great Priest
					create_character = {
						add_zeal = 8
						add_trait = intelligent
						add_trait = zealous
						add_character_experience = 75
					}
				}
				10 = { # Great Politician
					create_character = {
						add_charisma = 8
						add_trait = intelligent
						add_trait = orator
						add_character_experience = 75
					}
				}
			}
			capital_scope = {
				if = {
					limit = {
						any_pops_in_province = {
							NOT = {
								pop_culture = root.culture
							}
						}
					}
					every_pops_in_province = {
						limit = {
							NOT = {
								pop_culture = root.culture
							}	
						}
						set_pop_culture = root.culture
					}
				}
				if = {
					limit = {
						any_pops_in_province = {
							NOT = {
								pop_religion = root.religion
							}
						}
					}
					every_pops_in_province = {
						limit = {
							NOT = {
								pop_religion = root.religion
							}	
						}
						set_pop_religion = root.religion
					}
				}
				# Currently: 1 Nobles, 1 Citizen, 2 Freemen and 8 Tribesmen
				create_state_pop = nobles
				create_state_pop = citizen
				create_state_pop = freemen
				create_state_pop = freemen
				create_state_pop = tribesmen
				create_state_pop = tribesmen
				create_state_pop = tribesmen
				create_state_pop = tribesmen
				create_state_pop = tribesmen
				create_state_pop = tribesmen
				create_state_pop = tribesmen
				create_state_pop = tribesmen
			}
		}
		if = { # get's the Davidites back
			limit = {
				tag = JUD
			}
			trigger_event = {
				id = judea_inv.23
				days = { 365 730 }
			}
		}
	}
}

bnw_startup_events.2 = {
	type = country_event
	hidden = yes

	fire_only_once = yes

	trigger = {
		tag = AES
	}

	immediate = {
		every_country_treasure = {
			add_to_list = distribution_treasure_list
		}
		while = {
			limit = {
				list_size = {
					name = distribution_treasure_list
					value > 2
				}
			}
			random_country = {
				limit = {
					NOT = { this = root }
					any_country_treasure = {
						count < 2
					}
				}
				save_scope_as = treasure_target_country
			}
			random_in_list = {
				list = distribution_treasure_list
				transfer_treasure_to_country = scope:treasure_target_country
				remove_from_list = distribution_treasure_list
			}
			clear_saved_scope = treasure_target_country
		}
	}
}	